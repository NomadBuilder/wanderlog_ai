<!DOCTYPE html>
<html>
<head>
    <title>Console Fix for WanderLog</title>
</head>
<body>
    <h1>Console Error Fix</h1>
    <p>Add this function to your wanderlog_ai.html file right before the last DOMContentLoaded event listener:</p>
    
    <pre><code>
    // Load saved stories from backend API
    function loadSavedStories() {
      console.log('[WanderLog] Loading saved stories...');
      const API_ENDPOINT = 'http://localhost:8080';
      
      fetch(API_ENDPOINT, {
        method: 'POST',
        headers: { 
          'Content-Type': 'application/json',
          'Accept': 'application/json'
        },
        body: JSON.stringify({ action: 'get_stories' })
      })
      .then(response => {
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        return response.json();
      })
      .then(data => {
        console.log('[WanderLog] Loaded stories:', data);
        if (data.stories && Array.isArray(data.stories)) {
          console.log(`[WanderLog] Found ${data.stories.length} stories`);
          // TODO: If you have a displayStories function, call it here:
          // displayStories(data.stories);
        } else {
          console.log('[WanderLog] No stories found or invalid data format');
        }
      })
      .catch(err => {
        console.error('[WanderLog] Failed to load stories:', err);
        // Don't show error to user - just log it
      });
    }
    </code></pre>
    
    <h2>Instructions:</h2>
    <ol>
        <li>Open your wanderlog_ai.html file</li>
        <li>Find the line that says: <code>loadSavedStories();</code> (around line 8093)</li>
        <li>Add the function above right before the DOMContentLoaded event listener that calls it</li>
        <li>Save the file and refresh your browser</li>
    </ol>
    
    <h2>Alternative Quick Fix:</h2>
    <p>You can also add this script tag right before the closing &lt;/body&gt; tag:</p>
    <pre><code>
    &lt;script&gt;
    // Quick fix for missing loadSavedStories function
    function loadSavedStories() {
      console.log('[WanderLog] Loading saved stories...');
      // This will prevent the error and log that it was called
    }
    &lt;/script&gt;
    </code></pre>
</body>
</html> 